/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
typeof module!="undefined"&&typeof exports!="undefined"&&module.exports===exports&&(module.exports="ui.router"),function(n,t,i){"use strict";function w(n,t){return r(new(r(function(){},{prototype:n})),t)}function k(n){return f(arguments,function(t){t!==n&&f(t,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}function bt(n,t){var r=[];for(var i in n.path){if(n.path[i]!==t.path[i])break;r.push(n.path[i])}return r}function p(n){if(Object.keys)return Object.keys(n);var i=[];return t.forEach(n,function(n,t){i.push(t)}),i}function h(n,t){if(Array.prototype.indexOf)return n.indexOf(t,Number(arguments[2])||0);var r=n.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=r);i<r;i++)if(i in n&&n[i]===t)return i;return-1}function it(n,t,i,u){var o=bt(i,u),f,c={},l=[],s,e;for(s in o)if(o[s].params&&(f=p(o[s].params),f.length))for(e in f)h(l,f[e])>=0||(l.push(f[e]),c[f[e]]=n[f[e]]);return r({},c,t)}function d(n,t,i){var f,r,u;if(!i){i=[];for(f in n)i.push(f)}for(r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function g(n,t){var i={};return f(n,function(n){i[n]=t[n]}),i}function b(n){var i={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var t in n)h(r,t)==-1&&(i[t]=n[t]);return i}function nt(n,t){var r=l(n),i=r?[]:{};return f(n,function(n,u){t(n,u)&&(i[r?i.length:u]=n)}),i}function y(n,t){var i=l(n)?[]:{};return f(n,function(n,r){i[r]=t(n,r)}),i}function rt(n,t){var s=1,c=2,o={},l=[],a=o,y=r(n.when(o),{$$promises:o,$$values:o});this.study=function(o){function tt(n,i){if(g[i]!==c){if(d.push(i),g[i]===s){d.splice(0,h(d,i));throw new Error("Cyclic dependency: "+d.join(" -> "));}if(g[i]=s,e(n))w.push(i,[function(){return t.get(n)}],l);else{var r=t.annotate(n);f(r,function(n){n!==i&&o.hasOwnProperty(n)&&tt(o[n],n)});w.push(i,n,r)}d.pop();g[i]=c}}function it(n){return v(n)&&n.then&&n.$$promises}if(!v(o))throw new Error("'invocables' must be an object");var nt=p(o||{}),w=[],d=[],g={};return f(o,tt),o=d=g=null,function(e,o,s){function d(){--ft||(rt||k(c,o.$$values),h.$$values=c,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,g.resolve(c))}function tt(n){h.$$failure=n;g.reject(n)}function et(i,r,o){function v(n){l.reject(n);tt(n)}function y(){if(!u(h.$$failure))try{l.resolve(t.invoke(r,s,c));l.promise.then(function(n){c[i]=n;d()},v)}catch(n){v(n)}}var l=n.defer(),a=0;f(o,function(n){p.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(a++,p[n].then(function(t){c[n]=t;--a||y()},v))});a||y();p[i]=l.promise}var l,ut;if(it(e)&&s===i&&(s=o,o=e,e=null),e){if(!v(e))throw new Error("'locals' must be an object");}else e=a;if(o){if(!it(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()");}else o=y;var g=n.defer(),h=g.promise,p=h.$$promises={},c=r({},e),ft=1+w.length/3,rt=!1;if(u(o.$$failure))return tt(o.$$failure),h;for(o.$$inheritedValues&&k(c,b(o.$$inheritedValues,nt)),r(p,o.$$promises),o.$$values?(rt=k(c,b(o.$$values,nt)),h.$$inheritedValues=b(o.$$values,nt),d()):(o.$$inheritedValues&&(h.$$inheritedValues=b(o.$$inheritedValues,nt)),o.then(d,tt)),l=0,ut=w.length;l<ut;l+=3)e.hasOwnProperty(w[l])?d():et(w[l],w[l+1],w[l+2]);return h}};this.resolve=function(n,t,i,r){return this.study(n)(t,i,r)}}function ut(n,t,i){this.fromConfig=function(n,t,i){return u(n.template)?this.fromString(n.template,t):u(n.templateUrl)?this.fromUrl(n.templateUrl,t):u(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):null};this.fromString=function(n,t){return o(n)?n(t):n};this.fromUrl=function(i,r){return o(i)&&(i=i(r)),i==null?null:n.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(n){return n.data})};this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})}}function a(n,t,u){function nt(t,i,r,u){if(g.push(t),d[t])return d[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+n+"'");if(b[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+n+"'");return b[t]=new c.Param(t,i,r,u),b[t]}function tt(n,t,i){var r=["",""],u=n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return u;switch(i){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+i+"|",")?"]}return u+r[0]+t+r[1]}function it(i,r){var f,u,e,s,h;return f=i[2]||i[3],h=t.params[f],e=n.substring(o,i.index),u=r?i[4]:i[4]||(i[1]=="*"?".*":null),s=c.type(u||"string")||w(c.type("string"),{pattern:new RegExp(u)}),{id:f,regexp:u,segment:e,type:s,cfg:h}}var f,l,e,s,k;t=r({params:{}},v(t)?t:{});var a=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,rt=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,y="^",o=0,h,p=this.segments=[],d=u?u.params:{},b=this.params=u?u.params.$$new():new c.ParamSet,g=[];for(this.source=n;h=a.exec(n);){if(f=it(h,!1),f.segment.indexOf("?")>=0)break;l=nt(f.id,f.type,f.cfg,"path");y+=tt(f.segment,l.type.pattern.source,l.squash);p.push(f.segment);o=a.lastIndex}if(e=n.substring(o),s=e.indexOf("?"),s>=0){if(k=this.sourceSearch=e.substring(s),e=e.substring(0,s),this.sourcePath=n.substring(0,o+s),k.length>0)for(o=0;h=rt.exec(k);)f=it(h,!0),l=nt(f.id,f.type,f.cfg,"search"),o=a.lastIndex}else this.sourcePath=n,this.sourceSearch="";y+=tt(e)+(t.strict===!1?"/?":"")+"$";p.push(e);this.regexp=new RegExp(y,t.caseInsensitive?"i":i);this.prefix=p[0];this.$$paramNames=g}function s(n){r(this,n)}function ft(){function rt(n){return n!=null?n.toString().replace(/\//g,"%2F"):n}function ht(n){return n!=null?n.toString().replace(/%2F/g,"/"):n}function ct(n){return this.pattern.test(n)}function lt(){return{strict:g,caseInsensitive:d}}function ot(n){return o(n)||l(n)&&o(n[n.length-1])}function st(){while(it.length){var i=it.shift();if(i.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(n[i.name],b.invoke(i.def))}}function k(n){r(this,n||{})}c=this;var d=!1,g=!0,tt=!1;var n={},ut=!0,it=[],b,et={string:{encode:rt,decode:ht,is:ct,pattern:/[^/]*/},int:{encode:rt,decode:function(n){return parseInt(n,10)},is:function(n){return u(n)&&this.decode(n.toString())===n},pattern:/\d+/},bool:{encode:function(n){return n?1:0},decode:function(n){return parseInt(n,10)!==0},is:function(n){return n===!0||n===!1},pattern:/0|1/},date:{encode:function(n){return this.is(n)?[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"):i},decode:function(n){if(this.is(n))return n;var t=this.capture.exec(n);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(n){return n instanceof Date&&!isNaN(n.valueOf())},equals:function(n,t){return this.is(n)&&this.is(t)&&n.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};ft.$$getDefaultValue=function(n){if(!ot(n.value))return n.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(n.value)};this.caseInsensitive=function(n){return u(n)&&(d=n),d};this.strictMode=function(n){return u(n)&&(g=n),g};this.defaultSquashPolicy=function(n){if(!u(n))return tt;if(n!==!0&&n!==!1&&!e(n))throw new Error("Invalid squash policy: "+n+". Valid policies: false, true, arbitrary-string");return tt=n,n};this.compile=function(n,t){return new a(n,r(lt(),t))};this.isMatcher=function(n){if(!v(n))return!1;var t=!0;return f(a.prototype,function(i,r){o(i)&&(t=t&&u(n[r])&&o(n[r]))}),t};this.type=function(t,i,f){if(!u(i))return n[t];if(n.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return n[t]=new s(r({name:t},i)),f&&(it.push({name:t,def:f}),ut||st()),this};f(et,function(t,i){n[i]=new s(r({name:i},t))});n=w(n,{});this.$get=["$injector",function(t){return b=t,ut=!1,st(),f(et,function(t,i){n[i]||(n[i]=new s(t))}),this}];this.Param=function(t,f,o,c){function it(n){var t=v(n)?p(n):[],i=h(t,"value")===-1&&h(t,"type")===-1&&h(t,"squash")===-1&&h(t,"array")===-1;return i&&(n={value:n}),n.$$fn=ot(n.value)?n.value:function(){return n.value},n}function rt(i,r,u){if(i.type&&r)throw new Error("Param '"+t+"' has two type configurations.");return r?r:i.type?i.type instanceof s?i.type:new s(i.type):u==="config"?n.any:n.string}function ut(){var n={array:c==="search"?"auto":!1},i=t.match(/\[\]$/)?{array:!0}:{};return r(n,i,o).array}function ft(n,t){var i=n.squash;if(!t||i===!1)return!1;if(!u(i)||i==null)return tt;if(i===!0||e(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string");}function et(n,t,r,u){var f,o,s=[{from:"",to:r||t?i:""},{from:null,to:r||t?i:""}];return f=l(n.replace)?n.replace:[],e(u)&&f.push({from:u,to:i}),o=y(f,function(n){return n.from}),nt(s,function(n){return h(o,n.from)===-1}).concat(f)}function st(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(o.$$fn)}function ht(n){function t(n){return function(t){return t.from===n}}function i(n){var i=y(nt(d.replace,t(n)),function(n){return n.to});return i.length?i[0]:n}return n=i(n),u(n)?d.type.decode(n):st()}function ct(){return"{Param:"+t+" "+f+" squash: '"+k+"' optional: "+w+"}"}var d=this,a;o=it(o);f=rt(o,f,c);a=ut();f=a?f.$asArray(a,c==="search"):f;f.name!=="string"||a||c!=="path"||o.value!==i||(o.value="");var w=o.value!==i,k=ft(o,w),g=et(o,a,w,k);r(this,{id:t,type:f,location:c,array:a,squash:k,replace:g,isOptional:w,value:ht,dynamic:i,config:o,toString:ct})};k.prototype={$$new:function(){return w(this,r(new k,{$$parent:this}))},$$keys:function(){for(var t=[],i=[],n=this,r=p(k.prototype);n;)i.push(n),n=n.$$parent;return i.reverse(),f(i,function(n){f(p(n),function(n){h(t,n)===-1&&h(r,n)===-1&&t.push(n)})}),t},$$values:function(n){var t={},i=this;return f(i.$$keys(),function(r){t[r]=i[r].value(n&&n[r])}),t},$$equals:function(n,t){var i=!0,r=this;return f(r.$$keys(),function(u){var f=n&&n[u],e=t&&t[u];r[u].type.equals(f,e)||(i=!1)}),i},$$validates:function(n){var t=!0,u,i,r,e=this;return f(this.$$keys(),function(f){r=e[f];i=n[f];u=!i&&r.isOptional;t=t&&(u||!!r.type.is(i))}),t},$$parent:i};this.ParamSet=k}function et(n,f){function p(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return t!=null?t[1].replace(/\\(.)/g,"$1"):""}function w(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t[i==="$"?0:Number(i)]})}function v(n,t,i){if(!i)return!1;var r=n.invoke(t,t,{$match:i});return u(r)?r:!0}function y(r,u,f,o){function b(n,t,i){return v==="/"?n:t?v.slice(0,-1)+n:i?v.slice(1)+n:n}function p(n){function o(n){var t=n(f,r);return t?(e(t)&&r.replace().url(t),!0):!1}var u,c,t;if(!n||!n.defaultPrevented){if(u=l&&r.url()===l,l=i,u)return!0;for(c=s.length,t=0;t<c;t++)if(o(s[t]))return;h&&o(h)}}function w(){return c=c||u.$on("$locationChangeSuccess",p)}var v=o.baseHref(),y=r.url(),l;return a||w(),{sync:function(){p()},listen:function(){return w()},update:function(n){if(n){y=r.url();return}r.url()!==y&&(r.url(y),r.replace())},push:function(n,t,u){r.url(n.format(t||{}));l=u&&u.$$avoidResync?r.url():i;u&&u.replace&&r.replace()},href:function(i,u,f){var o,e,h,s;return i.validates(u)?(o=n.html5Mode(),t.isObject(o)&&(o=o.enabled),e=i.format(u),f=f||{},o||e===null||(e="#"+n.hashPrefix()+e),e=b(e,o,f.absolute),!f.absolute||!e)?e:(h=!o&&e?"/":"",s=r.port(),s=s===80||s===443?"":":"+s,[r.protocol(),"://",r.host(),s,h,e].join("")):null}}}var s=[],h=null,a=!1,c;this.rule=function(n){if(!o(n))throw new Error("'rule' must be a function");return s.push(n),this};this.otherwise=function(n){if(e(n)){var t=n;n=function(){return t}}else if(!o(n))throw new Error("'rule' must be a function");return h=n,this};this.when=function(n,t){var i,u=e(t),c,s,h;if(e(n)&&(n=f.compile(n)),!u&&!o(t)&&!l(t))throw new Error("invalid 'handler' in when()");c={matcher:function(n,t){return u&&(i=f.compile(t),t=["$match",function(n){return i.format(n)}]),r(function(i,r){return v(i,t,n.exec(r.path(),r.search()))},{prefix:e(n.prefix)?n.prefix:""})},regex:function(n,t){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(i=t,t=["$match",function(n){return w(i,n)}]),r(function(i,r){return v(i,t,n.exec(r.path()))},{prefix:p(n)})}};s={matcher:f.isMatcher(n),regex:n instanceof RegExp};for(h in s)if(s[h])return this.rule(c[h](n,t));throw new Error("invalid 'what' in when()");};this.deferIntercept=function(n){n===i&&(n=!0);a=n};this.$get=y;y.$inject=["$location","$rootScope","$injector","$browser"]}function ot(n,s){function ot(n){return n.indexOf(".")===0||n.indexOf("^")===0}function k(n,t){var s;if(!n)return i;var h=e(n),u=h?n:n.name,c=ot(u);if(c){if(!t)throw new Error("No reference point given for path '"+u+"'");t=k(t);for(var r=u.split("."),f=0,l=r.length,o=t;f<l;f++){if(r[f]===""&&f===0){o=t;continue}if(r[f]==="^"){if(!o.parent)throw new Error("Path '"+u+"' not valid for state '"+t.name+"'");o=o.parent;continue}break}r=r.slice(f).join(".");u=o.name+(o.name&&r?".":"")+r}return(s=tt[u],s&&(h||!h&&(s===n||s.self===n)))?s:i}function st(n,t){rt[n]||(rt[n]=[]);rt[n].push(t)}function ht(n){for(var t=rt[n]||[];t.length;)ut(t.shift())}function ut(t){var i,u,r;if(t=w(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}}),i=t.name,!e(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(tt.hasOwnProperty(i))throw new Error("State '"+i+"'' is already defined");if(u=i.indexOf(".")!==-1?i.substring(0,i.lastIndexOf(".")):e(t.parent)?t.parent:v(t.parent)&&e(t.parent.name)?t.parent.name:"",u&&!tt[u])return st(u,t.self);for(r in b)o(b[r])&&(t[r]=b[r](t,b.$delegates[r]));return tt[i]=t,!t[ft]&&t.url&&n.when(t.url,["$match","$stateParams",function(n,i){a.$current.navigable==t&&d(n,i)||a.transitionTo(t,n,{inherit:!0,location:!1})}]),ht(i),t}function ct(n){return n.indexOf("*")>-1}function lt(n){var t=n.split("."),i=a.$current.name.split("."),r,u;if(t[0]==="**"&&(i=i.slice(h(i,t[1])),i.unshift("**")),t[t.length-1]==="**"&&(i.splice(h(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length!=i.length)return!1;for(r=0,u=t.length;r<u;r++)t[r]==="*"&&(i[r]="*");return i.join("")===t.join("")}function at(n,t){return e(n)&&!u(t)?b[n]:!o(t)||!e(n)?this:(b[n]&&!b.$delegates[n]&&(b.$delegates[n]=b[n]),b[n]=t,this)}function vt(n,t){return v(n)?t=n:t.name=n,ut(t),this}function et(n,s,h,c,v,b,rt){function ht(t,i,r,u){var e=n.$broadcast("$stateNotFound",t,i,r),f;return e.defaultPrevented?(rt.update(),et):e.retry?u.$retry?(rt.update(),ot):(f=a.transition=s.when(e.retry),f.then(function(){return f!==a.transition?ut:(t.options.$retry=!0,a.transitionTo(t.to,t.toParams,t.options))},function(){return et}),rt.update(),f):null}function at(n,i,r,u,e,a){var w=r?i:g(n.params.$$keys(),i),y={$stateParams:w},p;return e.resolve=v.resolve(n.resolve,y,e.resolve,n),p=[e.resolve.then(function(n){e.globals=n})],u&&p.push(u),f(n.views,function(i,r){var u=i.resolve&&i.resolve!==n.resolve?i.resolve:{};u.$template=[function(){return h.load(r,{view:i,locals:y,params:w,notify:a.notify})||""}];p.push(v.resolve(u,y,e.resolve,n).then(function(f){if(o(i.controllerProvider)||l(i.controllerProvider)){var s=t.extend({},u,y);f.$$controller=c.invoke(i.controllerProvider,null,s)}else f.$$controller=i.controller;f.$$state=n;f.$$controllerAs=i.controllerAs;e[r]=f}))}),s.all(p).then(function(){return e})}var ut=s.reject(new Error("transition superseded")),st=s.reject(new Error("transition prevented")),et=s.reject(new Error("transition aborted")),ot=s.reject(new Error("transition failed"));return nt.locals={resolve:null,globals:{$stateParams:{}}},a={params:{},current:nt.self,$current:nt,transition:null},a.reload=function(){return a.transitionTo(a.current,b,{reload:!0,inherit:!1,notify:!0})},a.go=function(n,t,i){return a.transitionTo(n,t,r({inherit:!0,relative:a.$current},i))},a.transitionTo=function(t,i,f){var d,vt,et,tt,ct;i=i||{};f=r({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var l=a.$current,p=a.params,lt=l.path,bt,e=k(t,f.relative);if(!u(e)){if(d={to:t,toParams:i,options:f},vt=ht(d,l.self,p,f),vt)return vt;if(t=d.to,i=d.toParams,f=d.options,e=k(t,f.relative),!u(e)){if(!f.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+f.relative+"'");}}if(e[ft])throw new Error("Cannot transition to abstract state '"+t+"'");if(f.inherit&&(i=it(b,i||{},a.$current,e)),!e.params.$$validates(i))return ot;i=e.params.$$values(i);t=e;var v=t.path,o=0,h=v[o],y=nt.locals,pt=[];if(!f.reload)while(h&&h===lt[o]&&h.ownParams.$$equals(i,p))y=pt[o]=h.locals,o++,h=v[o];if(yt(t,l,y,f))return t.self.reloadOnSearch!==!1&&rt.update(),a.transition=null,s.when(a.current);if(i=g(t.params.$$keys(),i||{}),f.notify&&n.$broadcast("$stateChangeStart",t.self,i,l.self,p).defaultPrevented)return rt.update(),st;for(et=s.when(y),tt=o;tt<v.length;tt++,h=v[tt])y=pt[tt]=w(y),et=at(h,i,h===t,et,y,f);return ct=a.transition=et.then(function(){var r,u,e;if(a.transition!==ct)return ut;for(r=lt.length-1;r>=o;r--)e=lt[r],e.self.onExit&&c.invoke(e.self.onExit,e.self,e.locals.globals),e.locals=null;for(r=o;r<v.length;r++)u=v[r],u.locals=pt[r],u.self.onEnter&&c.invoke(u.self.onEnter,u.self,u.locals.globals);return a.transition!==ct?ut:(a.$current=t,a.current=t.self,a.params=i,wt(a.params,b),a.transition=null,f.location&&t.navigable&&rt.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:f.location==="replace"}),f.notify&&n.$broadcast("$stateChangeSuccess",t.self,i,l.self,p),rt.update(!0),a.current)},function(r){return a.transition!==ct?ut:(a.transition=null,bt=n.$broadcast("$stateChangeError",t.self,i,l.self,p,r),bt.defaultPrevented||rt.update(),s.reject(r))})},a.is=function(n,t,f){f=r({relative:a.$current},f||{});var e=k(n,f.relative);return u(e)?a.$current!==e?!1:t?d(e.params.$$values(t),b):!0:i},a.includes=function(n,t,f){if(f=r({relative:a.$current},f||{}),e(n)&&ct(n)){if(!lt(n))return!1;n=a.$current.name}var o=k(n,f.relative);return u(o)?u(a.$current.includes[o.name])?t?d(o.params.$$values(t),b,p(t)):!0:!1:i},a.href=function(n,t,f){var e,o;return(f=r({lossy:!0,inherit:!0,absolute:!1,relative:a.$current},f||{}),e=k(n,f.relative),!u(e))?null:(f.inherit&&(t=it(b,t||{},a.$current,e)),o=e&&f.lossy?e.navigable:e,!o||o.url===i||o.url===null)?null:rt.href(o.url,g(e.params.$$keys(),t||{}),{absolute:f.absolute})},a.get=function(n,t){if(arguments.length===0)return y(p(tt),function(n){return tt[n].self});var i=k(n,t||a.$current);return i&&i.self?i.self:null},a}function yt(n,t,i,r){if(n===t&&(i===t.locals&&!r.reload||n.self.reloadOnSearch===!1))return!0}var nt,tt={},a,rt={},ft="abstract",b={parent:function(n){if(u(n.parent)&&n.parent)return k(n.parent);var t=/^(.+)\.[^.]+$/.exec(n.name);return t?k(t[1]):nt},data:function(n){return n.parent&&n.parent.data&&(n.data=n.self.data=r({},n.parent.data,n.data)),n.data},url:function(n){var t=n.url,i={params:n.params||{}};if(e(t))return t.charAt(0)=="^"?s.compile(t.substring(1),i):(n.parent.navigable||nt).url.concat(t,i);if(!t||s.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+n+"'");},navigable:function(n){return n.url?n:n.parent?n.parent.navigable:null},ownParams:function(n){var t=n.url&&n.url.params||new c.ParamSet;return f(n.params||{},function(n,i){t[i]||(t[i]=new c.Param(i,null,n,"config"))}),t},params:function(n){return n.parent&&n.parent.params?r(n.parent.params.$$new(),n.ownParams):new c.ParamSet},views:function(n){var t={};return f(u(n.views)?n.views:{"":n},function(i,r){r.indexOf("@")<0&&(r+="@"+n.parent.name);t[r]=i}),t},path:function(n){return n.parent?n.parent.path.concat(n):[]},includes:function(n){var t=n.parent?r({},n.parent.includes):{};return t[n.name]=!0,t},$delegates:{}};nt=ut({name:"",url:"^",views:null,abstract:!0});nt.navigable=null;this.decorator=at;this.state=vt;this.$get=et;et.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function st(){function n(n,t){return{load:function(i,u){var f;return u=r({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},u),u.view&&(f=t.fromConfig(u.view,u.params,u.locals)),f&&u.notify&&n.$broadcast("$viewContentLoading",u),f}}}this.$get=n;n.$inject=["$rootScope","$templateFactory"]}function kt(){var n=!1;this.useAnchorScroll=function(){n=!0};this.$get=["$anchorScroll","$timeout",function(t,i){return n?t:function(n){i(function(){n[0].scrollIntoView()},0,!1)}}]}function ht(n,i,r,u){function s(){return i.has?function(n){return i.has(n)?i.get(n):null}:function(n){try{return i.get(n)}catch(t){return null}}}function h(n,t){var r=function(){return{enter:function(n,t,i){t.after(n);i()},leave:function(n,t){n.remove();t()}}},i;return e?{enter:function(n,t,i){var r=e.enter(n,null,t,i);r&&r.then&&r.then(i)},leave:function(n,t){var i=e.leave(n,t);i&&i.then&&i.then(t)}}:f?(i=f&&f(t,n),{enter:function(n,t,r){i.enter(n,null,t);r()},leave:function(n,t){i.leave(n);t()}}):r()}var o=s(),f=o("$animator"),e=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,f,e){return function(i,f,o){function b(){c&&(c.remove(),c=null);s&&(s.$destroy(),s=null);l&&(p.leave(l,function(){c=null}),c=l,l=null)}function v(h){var c,v=lt(i,o,f,u),d=v&&n.$current&&n.$current.locals[v],k;(h||d!==y)&&(c=i.$new(),y=n.$current.locals[v],k=e(c,function(n){p.enter(n,f,function(){s&&s.$emit("$viewContentAnimationEnded");(t.isDefined(a)&&!a||i.$eval(a))&&r(n)});b()}),l=k,s=c,s.$emit("$viewContentLoaded"),s.$eval(w))}var c,l,s,y,w=o.onload||"",a=o.autoscroll,p=h(o,i);i.$on("$stateChangeSuccess",function(){v(!1)});i.$on("$viewContentLoading",function(){v(!1)});v(!0)}}}}function ct(n,t,i,r){return{restrict:"ECA",priority:-400,compile:function(u){var f=u.html();return function(u,e,o){var c=i.$current,l=lt(u,o,e,r),s=c&&c.locals[l],a,h;s&&(e.data("$uiView",{name:l,state:s.$$state}),e.html(s.$template?s.$template:f),a=n(e.contents()),s.$$controller&&(s.$scope=u,h=t(s.$$controller,s),s.$$controllerAs&&(u[s.$$controllerAs]=h),e.data("$ngControllerController",h),e.children().data("$ngControllerController",h)),a(u))}}}}function lt(n,t,i,r){var u=r(t.uiView||t.name||"")(n),f=i.inheritedData("$uiView");return u.indexOf("@")>=0?u:u+"@"+(f?f.state.name:"")}function dt(n,t){var r=n.match(/^\s*({[^}]*})\s*$/),i;if(r&&(n=t+"("+r[1]+")"),i=n.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||i.length!==4)throw new Error("Invalid state ref '"+n+"'");return{state:i[1],paramExpr:i[3]||null}}function at(n){var t=n.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function vt(n,i){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(u,f,e,o){var s=dt(e.uiSref,n.current.name),h=null,w=at(f)||n.$current,c=null,b=f.prop("tagName")==="A",v=f[0].nodeName==="FORM",k=v?"action":"href",y=!0,l={relative:w,inherit:!0},p=u.$eval(e.uiSrefOpts)||{},a;(t.forEach(r,function(n){n in p&&(l[n]=p[n])}),a=function(i){if(i&&(h=t.copy(i)),y){c=n.href(s.state,h,l);var r=o[1]||o[0];if(r&&r.$$setStateInfo(s.state,h),c===null)return y=!1,!1;e.$set(k,c)}},s.paramExpr&&(u.$watch(s.paramExpr,function(n){n!==h&&a(n)},!0),h=t.copy(u.$eval(s.paramExpr))),a(),v)||f.bind("click",function(t){var e=t.which||t.button,r,u;e>1||t.ctrlKey||t.metaKey||t.shiftKey||f.attr("target")||(r=i(function(){n.go(s.state,h,l)}),t.preventDefault(),u=b&&!c?1:0,t.preventDefault=function(){u--<=0&&i.cancel(r)})})}}}function tt(n,t,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,u){function s(){h()?r.addClass(o):r.removeClass(o)}function h(){return typeof u.uiSrefActiveEq!="undefined"?f&&n.is(f.name,e):f&&n.includes(f.name,e)}var f,e,o;o=i(u.uiSrefActiveEq||u.uiSrefActive||"",!1)(t);this.$$setStateInfo=function(t,i){f=n.get(t,at(r));e=i;s()};t.$on("$stateChangeSuccess",s)}]}}function yt(n){var t=function(t){return n.is(t)};return t.$stateful=!0,t}function pt(n){var t=function(t){return n.includes(t)};return t.$stateful=!0,t}var u=t.isDefined,o=t.isFunction,e=t.isString,v=t.isObject,l=t.isArray,f=t.forEach,r=t.extend,wt=t.copy,c;t.module("ui.router.util",["ng"]);t.module("ui.router.router",["ui.router.util"]);t.module("ui.router.state",["ui.router.router","ui.router.util"]);t.module("ui.router",["ui.router.state"]);t.module("ui.router.compat",["ui.router"]);rt.$inject=["$q","$injector"];t.module("ui.router.util").service("$resolve",rt);ut.$inject=["$http","$templateCache","$injector"];t.module("ui.router.util").service("$templateFactory",ut);a.prototype.concat=function(n,t){var i={caseInsensitive:c.caseInsensitive(),strict:c.strictMode(),squash:c.defaultSquashPolicy()};return new a(this.sourcePath+n+this.sourceSearch,r(i,t),this)};a.prototype.toString=function(){return this.source};a.prototype.exec=function(n,t){function a(n){function t(n){return n.split("").reverse().join("")}function i(n){return n.replace(/\\-/,"-")}var r=t(n).split(/-(?!\\)/),u=y(r,t);return y(u,i).reverse()}var o=this.regexp.exec(n),f,u;if(!o)return null;t=t||{};var s=this.parameters(),l=s.length,c=this.segments.length-1,h={},i,e,r;if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;i<c;i++){for(r=s[i],f=this.params[r],u=o[i+1],e=0;e<f.replace;e++)f.replace[e].from===u&&(u=f.replace[e].to);u&&f.array===!0&&(u=a(u));h[r]=f.value(u)}for(;i<l;i++)r=s[i],h[r]=this.params[r].value(t[r]);return h};a.prototype.parameters=function(n){return u(n)?this.params[n]||null:this.$$paramNames};a.prototype.validates=function(n){return this.params.$$validates(n)};a.prototype.format=function(n){function g(n){return encodeURIComponent(n).replace(/-/g,function(n){return"%5C%"+n.charCodeAt(0).toString(16).toUpperCase()})}var s,w;n=n||{};var h=this.segments,c=this.parameters(),b=this.params;if(!this.validates(n))return null;for(var a=!1,k=h.length-1,d=c.length,i=h[0],r=0;r<d;r++){var nt=r<k,o=c[r],u=b[o],v=u.value(n[o]),p=u.isOptional&&u.type.equals(u.value(),v),f=p?u.squash:!1,t=u.type.encode(v);if(nt)s=h[r+1],f===!1?(t!=null&&(i+=l(t)?y(t,g).join("-"):encodeURIComponent(t)),i+=s):f===!0?(w=i.match(/\/$/)?/\/?(.*)/:/(.*)/,i+=s.match(w)[1]):e(f)&&(i+=f+s);else{if(t==null||p&&f!==!1)continue;l(t)||(t=[t]);t=y(t,encodeURIComponent).join("&"+o+"=");i+=(a?"&":"?")+(o+"="+t);a=!0}}return i};s.prototype.is=function(){return!0};s.prototype.encode=function(n){return n};s.prototype.decode=function(n){return n};s.prototype.equals=function(n,t){return n==t};s.prototype.$subPattern=function(){var n=this.pattern.toString();return n.substr(1,n.length-2)};s.prototype.pattern=/.*/;s.prototype.toString=function(){return"{Type:"+this.name+"}"};s.prototype.$asArray=function(n,t){function r(n,t){function r(n,t){return function(){return n[t].apply(n,arguments)}}function f(n){return l(n)?n:u(n)?[n]:[]}function o(n){switch(n.length){case 0:return i;case 1:return t==="auto"?n[0]:n;default:return n}}function s(n){return!n}function e(n,t){return function(i){i=f(i);var r=y(i,n);return t===!0?nt(r,s).length===0:o(r)}}function h(n){return function(t,i){var u=f(t),e=f(i),r;if(u.length!==e.length)return!1;for(r=0;r<u.length;r++)if(!n(u[r],e[r]))return!1;return!0}}this.encode=e(r(n,"encode"));this.decode=e(r(n,"decode"));this.is=e(r(n,"is"),!0);this.equals=h(r(n,"equals"));this.pattern=n.pattern;this.$arrayMode=t}if(!n)return this;if(n==="auto"&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,n)};t.module("ui.router.util").provider("$urlMatcherFactory",ft);t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]);et.$inject=["$locationProvider","$urlMatcherFactoryProvider"];t.module("ui.router.router").provider("$urlRouter",et);ot.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];t.module("ui.router.state").value("$stateParams",{}).provider("$state",ot);st.$inject=[];t.module("ui.router.state").provider("$view",st);t.module("ui.router.state").provider("$uiViewScroll",kt);ht.$inject=["$state","$injector","$uiViewScroll","$interpolate"];ct.$inject=["$compile","$controller","$state","$interpolate"];t.module("ui.router.state").directive("uiView",ht);t.module("ui.router.state").directive("uiView",ct);vt.$inject=["$state","$timeout"];tt.$inject=["$state","$stateParams","$interpolate"];t.module("ui.router.state").directive("uiSref",vt).directive("uiSrefActive",tt).directive("uiSrefActiveEq",tt);yt.$inject=["$state"];pt.$inject=["$state"];t.module("ui.router.state").filter("isState",yt).filter("includedByState",pt)}(window,window.angular);
//# sourceMappingURL=angular-ui-router.min.js.map
