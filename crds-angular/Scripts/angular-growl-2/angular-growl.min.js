angular.module("angular-growl",[]);angular.module("angular-growl").directive("growl",[function(){"use strict";return{restrict:"A",templateUrl:"templates/growl/growl.html",replace:!1,scope:{reference:"@",inline:"@",limitMessages:"="},controller:["$scope","$timeout","growl","growlMessages",function(n,t,i,r){n.referenceId=n.reference||0;r.initDirective(n.referenceId,n.limitMessages);n.growlMessages=r;n.inlineMessage=n.inline||i.inlineMessages();n.$watch("limitMessages",function(t){var i=r.directives[n.referenceId];angular.isUndefined(t)||angular.isUndefined(i)||(i.limitMessages=t)});n.stopTimeoutClose=function(n){n.clickToClose||(angular.forEach(n.promises,function(n){t.cancel(n)}),n.close?r.deleteMessage(n):n.close=!0)};n.alertClasses=function(n){return{"alert-success":n.severity==="success","alert-error":n.severity==="error","alert-danger":n.severity==="error","alert-info":n.severity==="info","alert-warning":n.severity==="warning",icon:n.disableIcons===!1,"alert-dismissable":!n.disableCloseButton}};n.showCountDown=function(n){return!n.disableCountDown&&n.ttl>0};n.wrapperClasses=function(){var t={};return t["growl-fixed"]=!n.inlineMessage,t[i.position()]=!0,t};n.computeTitle=function(n){return{success:"Success",error:"Error",info:"Information",warn:"Warning"}[n.severity]}}]}}]);angular.module("angular-growl").run(["$templateCache",function(n){"use strict";n.get("templates/growl/growl.html")===undefined&&n.put("templates/growl/growl.html",'<div class="growl-container" ng-class="wrapperClasses()"><div class="growl-item alert" ng-repeat="message in growlMessages.directives[referenceId].messages" ng-class="alertClasses(message)" ng-click="stopTimeoutClose(message)"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="growlMessages.deleteMessage(message)" ng-show="!message.disableCloseButton">&times;<\/button><button type="button" class="close" aria-hidden="true" ng-show="showCountDown(message)">{{message.countdown}}<\/button><h4 class="growl-title" ng-show="message.title" ng-bind="message.title"><\/h4><div class="growl-message" ng-bind-html="message.text"><\/div><\/div><\/div>')}]);angular.module("angular-growl").provider("growl",function(){"use strict";var n={success:null,error:null,warning:null,info:null},t="messages",i="text",e="title",o="severity",r=!0,s="variables",y=0,h=!1,u="top-right",c=!1,l=!1,f=!1,a=!1,v=!0;this.globalTimeToLive=function(t){var i,r;if(typeof t=="object")for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else for(r in n)n.hasOwnProperty(r)&&(n[r]=t)};this.globalTranslateMessages=function(n){v=n};this.globalDisableCloseButton=function(n){c=n};this.globalDisableIcons=function(n){l=n};this.globalReversedOrder=function(n){f=n};this.globalDisableCountDown=function(n){a=n};this.messageVariableKey=function(n){s=n};this.globalInlineMessages=function(n){h=n};this.globalPosition=function(n){u=n};this.messagesKey=function(n){t=n};this.messageTextKey=function(n){i=n};this.messageTitleKey=function(n){e=n};this.messageSeverityKey=function(n){o=n};this.onlyUniqueMessages=function(n){r=n};this.serverMessagesInterceptor=["$q","growl",function(n,i){function r(n){n!==undefined&&n.data[t]&&n.data[t].length>0&&i.addServerMessages(n.data[t])}return{response:function(n){return r(n),n},responseError:function(t){return r(t),n.reject(t)}}}];this.$get=["$rootScope","$interpolate","$sce","$filter","$timeout","growlMessages",function(t,p,w,b,k,d){function tt(n){var i,r;return nt&&n.translateMessage?n.text=nt(n.text,n.variables):(i=p(n.text),n.text=i(n.variables)),r=d.addMessage(n),t.$broadcast("growlMessage",n),k(function(){},0),r}function g(t,i,r){var f=i||{},e;return e={text:t,title:f.title,severity:r,ttl:f.ttl||n[r],variables:f.variables||{},disableCloseButton:f.disableCloseButton===undefined?c:f.disableCloseButton,disableIcons:f.disableIcons===undefined?l:f.disableIcons,disableCountDown:f.disableCountDown===undefined?a:f.disableCountDown,position:f.position||u,referenceId:f.referenceId||y,translateMessage:f.translateMessage===undefined?v:f.translateMessage,destroy:function(){d.deleteMessage(e)},setText:function(n){e.text=w.trustAsHtml(String(n))},onclose:f.onclose,onopen:f.onopen},tt(e)}function it(n,t){return g(n,t,"warning")}function rt(n,t){return g(n,t,"error")}function ut(n,t){return g(n,t,"info")}function ft(n,t){return g(n,t,"success")}function et(n,t,i){i=(i||"error").toLowerCase();g(n,t,i)}function ot(n){var r,t,f,h,u;if(n&&n.length)for(h=n.length,r=0;r<h;r++)t=n[r],t[i]&&(f=(t[o]||"error").toLowerCase(),u={},u.variables=t[s]||{},u.title=t[e],g(t[i],u,f))}function st(){return r}function ht(){return f}function ct(){return h}function lt(){return u}var nt;d.onlyUnique=r;d.reverseOrder=f;try{nt=b("translate")}catch(at){}return{warning:it,error:rt,info:ut,success:ft,general:et,addServerMessages:ot,onlyUnique:st,reverseOrder:ht,inlineMessages:ct,position:lt}}]});angular.module("angular-growl").service("growlMessages",["$sce","$timeout",function(n,t){"use strict";this.directives={};this.initDirective=function(n,t){this.directives[n]={messages:[],limitMessages:t}};this.getAllMessages=function(n){return n=n||0,this.directives[n]?this.directives[n].messages:[]};this.destroyAllMessages=function(n){for(var i=this.getAllMessages(n),t=i.length-1;t>=0;t--)i[t].destroy();this.directives[n]&&(this.directives[n].messages=[])};this.addMessage=function(i){var u=this.directives[i.referenceId],r=u.messages,e,o,f;if(!this.onlyUnique||(angular.forEach(r,function(t){o=n.getTrustedHtml(t.text);i.text===o&&i.severity===t.severity&&t.title===t.title&&(e=!0)}),!e))return i.text=n.trustAsHtml(String(i.text)),i.ttl&&i.ttl!==-1&&(i.countdown=i.ttl/1e3,i.promises=[],i.close=!1,i.countdownFunction=function(){i.countdown>1?(i.countdown--,i.promises.push(t(i.countdownFunction,1e3))):i.countdown--}),angular.isDefined(u.limitMessages)&&(f=r.length-(u.limitMessages-1),f>0&&r.splice(u.limitMessages-1,f)),this.reverseOrder?r.unshift(i):r.push(i),typeof i.onopen=="function"&&i.onopen(),i.ttl&&i.ttl!==-1&&(i.promises.push(t(angular.bind(this,function(){this.deleteMessage(i)}),i.ttl)),i.promises.push(t(i.countdownFunction,1e3))),i};this.deleteMessage=function(n){var t=this.directives[n.referenceId].messages,i=t.indexOf(n);i>-1&&(t[i].close=!0,t.splice(i,1));typeof n.onclose=="function"&&n.onclose()}}]);
//# sourceMappingURL=angular-growl.min.js.map
